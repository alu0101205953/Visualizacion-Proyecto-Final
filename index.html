<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="css/main.css"  media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
    <!-- Otras etiquetas -->
    <title>Visualización - Proyecto Final</title>
  </head>

  <body class="fondo-body">
    
    <!-- Cabecera -->
    <header>
        <nav class=" fondo-navs">
            <div class="col s12">
                <a class="breadcrumb texto-titulo">&nbsp &nbsp "Canarias: El desafío del envejecimiento de la población"</a>
            </div>
        </nav>
    </header>

    <!-- Contenido -->
    <main>
      <div class="container-fluid fondo-main ajustecontainer z-depth-5" id="main">
        <nav>
            <div class="nav-wrapper fondo-navs">
                <div class="col s12">
                    <a class="breadcrumb texto-negrita" style="font-size: 30px;">&nbsp &nbsp Introducción</a>
                </div>
            </div>
        </nav>

        <div class="seccion">
            <div class="row">
                <div class="col s12"> 
                    <p>La población de Canarias, como en muchas otras regiones del mundo, está experimentando un importante fenómeno demográfico: el envejecimiento. Este proceso se caracteriza por un aumento significativo en la proporción de personas mayores de 65 años en relación con el total de la población. El envejecimiento de la población en Canarias ha sido objeto de atención y estudio en las últimas décadas debido a sus implicaciones tanto en el ámbito social como en el económico y de salud.
                        <br><br>
                        Existen diversos factores que contribuyen al envejecimiento de la población en Canarias. En primer lugar, se encuentra la disminución de la tasa de fecundidad, lo que significa que las parejas tienen menos hijos en comparación con generaciones anteriores.
                        <br><br>
                        Otro factor determinante es el aumento de la esperanza de vida. Gracias a los avances en la medicina y a mejores condiciones de vida, las personas en Canarias tienen una mayor longevidad. Esto implica que la proporción de personas mayores de 65 años se incrementa, ya que las personas viven más años.
                        <br><br>
                        Además, los patrones migratorios también influyen en el envejecimiento de la población en Canarias. Muchos jóvenes deciden emigrar hacia otras regiones en busca de oportunidades de empleo y mejores condiciones de vida.
                        <br><br>
                        A continuación se muestra en el mapa el número de personas mayores de 65 años en cada municipio:
                    </p>
                </div>
                <div id ="vis7" class="col s12 centrar" style="margin-top: 40px;"></div>
                <div id ="vis8" class="col s12 centrar" style="margin-top: 40px;"></div>

                <div class="col s12" style="margin-top: 40px;"> 
                  <p>En estos gráficos se puede ver que las capitales de Canarias, como Las Palmas de Gran Canaria (Gran Canaria) y Santa Cruz de Tenerife (Tenerife) y sus municipios colindantes (San Cristobal de La Laguna, Telde, etc.), albergan una parte significativa de la población mayor de 65 años en las islas. Estas ciudades son centros urbanos que ofrecen una variedad de servicios, infraestructuras y recursos destinados a atender las necesidades de esta población. Esto puede deberse, entre otros a los siguientes factores:
                      <br><br>
                      &#8226; Tamaño de la población: Es importante conocer la cantidad de personas mayores de 65 años que residen en cada capital.  <br><br>
                      &#8226; Crecimiento demográfico: Analizar las tendencias de crecimiento de la población mayor de 65 años en las capitales permite comprender si este grupo está experimentando un aumento o una disminución en su número. <br><br>
                      &#8226; Servicios y atención: Las capitales de Canarias suelen contar con una infraestructura más desarrollada en términos de servicios de atención médica, servicios sociales, actividades recreativas y programas específicos para adultos mayores. Estos servicios y recursos pueden adaptarse a las necesidades y demandas de la población mayor de 65 años.<br><br>
                      &#8226; Calidad de vida: La calidad de vida de la población mayor de 65 años en las capitales es un aspecto relevante. Esto implica evaluar factores como el acceso a servicios de salud, transporte público, vivienda asequible, etc.    

                  </p>
                </div>
              </div>
              </div>
        </div>
    </div>

        <div class="container-fluid fondo-main ajustecontainer z-depth-5" id="main">
            <nav>
                <div class="nav-wrapper fondo-navs">
                    <div class="col s12">
                        <a class="breadcrumb texto-negrita" style="font-size: 30px;">&nbsp &nbsp Tasa de natalidad</a>
                    </div>
                </div>
            </nav>

            <div class="seccion">
                <div class="row">
                    <div class="col s12"> 
                        <p>El envejecimiento de la población en Canarias, al igual que en muchas otras regiones del mundo, es un fenómeno complejo y multifacético que se deriva de una serie de factores interrelacionados. Uno de los principales impulsores de este fenómeno es la disminución de la tasa de fecundidad, que ha llevado a un menor número de nacimientos en la población.
                            <br><br>
                            En las últimas décadas, se ha observado una tendencia hacia la reducción en el tamaño de las familias y en el número de hijos que las parejas deciden tener. Esta disminución en la tasa de fecundidad tiene diversas causas, como cambios en los roles de género, acceso ampliado a la educación y la participación laboral de las mujeres, y la creciente importancia de la planificación familiar. Como resultado, las parejas tienen menos hijos en comparación con las generaciones anteriores.
                            <br><br>
                            En el gráfico a continuación se puede observar claramente esta tendencia a lo largo de dos décadas, siendo la última la que aporta unos valores más bajos:
                            <br><br>
                        </p>
                    </div>
                    <div id ="vis1" class="col s12 centrar"></div>
                    <div id ="vis9" class="col s12 centrar" style="margin-top: 40px;"></div>
                    <div id ="vis2" class="col s12 centrar" style="margin-top: 40px;"></div>
                    <div class="col s12"> 
                      <p>De nuevo se puede ver que las tasas de natalidad más altas se concentran en las capitales y alrededores, de nuevo por factores como la calidad de vida y los servicios, recursos e infraestructuras que se ofrecen en ellas.
                      </p>
                  </div>
                  </div>
            </div>
        </div>

        <div class="container-fluid fondo-main ajustecontainer z-depth-5" id="main">
            <nav>
                <div class="nav-wrapper fondo-navs">
                    <div class="col s12">
                        <a class="breadcrumb texto-negrita" style="font-size: 30px;">&nbsp &nbsp Evolución de la esperanza de vida</a>
                    </div>
                </div>
            </nav>

            <div class="seccion">
                <div class="row">
                    <div class="col s12"> 
                        <p>En segundo lugar, el aumento de la esperanza de vida es un factor clave en el envejecimiento de la población. Gracias a los avances en la medicina y las condiciones de vida, las personas viven más tiempo que nunca antes. Este logro es un indicador positivo del progreso en la atención médica y el bienestar general de la sociedad.
                            <br><br>
                            Sin embargo, este aumento en la esperanza de vida también trae consigo desafíos significativos. A medida que más personas alcanzan edades avanzadas, la proporción de personas mayores de 65 años aumenta en relación con los grupos de edad más jóvenes. Este cambio demográfico puede tener implicaciones importantes en términos de atención médica y servicios destinados a satisfacer las necesidades de la población mayor.
                            <br><br>
                            Este claro crecimiento a lo largo de las últimas décadas en cada grupo de edad se puede ver reflejado en los siguientes gráficos:
                            <br><br>
                        </p>
                    </div>
                    <p class="texto-negrita center-align" style="font-size: 30px;">Gráfico de barras de la evolución de la esperanza de vida en Canarias por década</p>
                    <div id ="vis3" class="col s6 center-align" ></div>
                    <div id ="vis4" class="col s6 center-align" ></div>

                    <div class="col s12" style="margin-top: 40px;"> 
                      <p>En estos gráficos se puede apreciar perfectamente el considerable aumento en el porcentaje de esperanza de vida según el rango de edad en las últimas dos décadas. A partir del año 2000, Canarias ha experimentado un notable aumento en la esperanza de vida de su población. Este incremento se debe a diversos factores:
                          <br><br>
                          &nbsp;&nbsp;&nbsp;&nbsp;&#8226; Uno de los principales impulsores del aumento de la esperanza de vida en Canarias ha sido el progreso en el ámbito de la atención médica. El acceso a servicios de salud de calidad, avances en diagnóstico y tratamientos médicos, así como mejoras en la prevención y control de enfermedades, han contribuido significativamente a prolongar la vida de las personas en la región. <br><br>
                          &nbsp;&nbsp;&nbsp;&nbsp;&#8226; Asimismo, las mejoras en las condiciones de vida han influido en el aumento de la esperanza de vida en Canarias. Factores como la disponibilidad de agua potable, la seguridad alimentaria, la vivienda adecuada y la infraestructura sanitaria han mejorado las condiciones de salud y bienestar de la población. <br><br>
                          &nbsp;&nbsp;&nbsp;&nbsp;&#8226; Los avances tecnológicos y científicos también han desempeñado un papel importante en el aumento de la esperanza de vida en Canarias. La investigación médica ha permitido el desarrollo de nuevos tratamientos y terapias, así como la identificación de factores de riesgo y la implementación de medidas preventivas.    
                      </p>
                    </div>
                  </div>
            </div>
        </div>

        <div class="container-fluid fondo-main ajustecontainer z-depth-5" id="main">
          <nav>
              <div class="nav-wrapper fondo-navs">
                  <div class="col s12">
                      <a class="breadcrumb texto-negrita" style="font-size: 30px;">&nbsp &nbspSaldo migratorio</a>
                  </div>
              </div>
          </nav>

          <div class="seccion">
              <div class="row">
                  <div class="col s12"> 
                      <p>Además de los factores mencionados anteriormente, los cambios en los patrones migratorios también desempeñan un papel significativo en el envejecimiento de la población en Canarias. En la búsqueda de oportunidades de empleo y mejores condiciones de vida, muchas personas jóvenes toman la decisión de emigrar hacia otras regiones, lo que crea un desequilibrio demográfico en la población.
                          <br><br>
                          Este fenómeno de migración de la juventud hacia otras áreas impacta directamente en la estructura de edad de la población que permanece en Canarias, ya que tiende a estar compuesta en su mayoría por personas de mayor edad. A medida que la población joven se reduce, aumenta la proporción de personas mayores de 65 años en relación con los grupos de edad más jóvenes.
                          <br><br>
                          Este desequilibrio demográfico generado por los cambios en los patrones migratorios presenta desafíos adicionales para la sociedad y el gobierno de Canarias. Se requiere una mayor atención a las necesidades y demandas de la población envejecida, como el acceso a servicios de atención médica, cuidado a largo plazo y seguridad social. Asimismo, se deben implementar estrategias para fomentar la retención de la población joven y promover el desarrollo económico y las oportunidades de empleo en la región.
                          <br><br><br><br>
                          El saldo migratorio es una medida demográfica que se refiere a la diferencia entre el número de personas que ingresan a un país (inmigrantes) y el número de personas que abandonan el país (emigrantes) en un período de tiempo determinado. Representa el cambio neto en la población debido a la migración internacional.
                          <br><br>
                          Un saldo migratorio positivo indica que hay más personas ingresando al país de las que están abandonando, lo que resulta en un aumento neto de la población. Por otro lado, un saldo migratorio negativo significa que más personas están dejando el país de las que están llegando, lo que resulta en una disminución neta de la población.
                          <br><br>
                      </p>
                  </div>
                  <div id ="vis5" class="col s12 centrar"></div>
                  <div id ="vis6" class="col s12 centrar" style="margin-top: 40px;"></div>

                  <div class="col s12"> 
                    <p>En estos gráficos puede verse que la correlación en los datos de los distintos años es fuertemente positiva. Sin embargo, al hacer hincapié en los datos del último año, se aprecia un saldo muy grande en determinados municipios, mientras que en los demás se mantiene muy cercano a 0. Este saldo positivo, lejos de contribuir al envejecimiento de la población, aporta un leve aumento en la proporción de personas jóvenes en relación con las personas mayores en la población, es decir, favorece el rejuvenecimiento de la comunidad.
                    </p>
                </div>
              </div>
          </div>
        </div>

        <div class="container-fluid fondo-main ajustecontainer z-depth-5" id="main">
          <nav>
              <div class="nav-wrapper fondo-navs">
                  <div class="col s12">
                      <a class="breadcrumb texto-negrita" style="font-size: 30px;">&nbsp &nbsp Conclusiones</a>
                  </div>
              </div>
          </nav>

          <div class="seccion">
              <div class="row">
                  <div class="col s12"> 
                      <p>En el caso de Canarias, en los últimos años se ha observado un notable aumento en el índice de vejez. Esto se debe a varios factores, entre ellos, el aumento de la esperanza de vida y la disminución de la tasa de natalidad. Además, el archipiélago ha experimentado un flujo migratorio, con muchos jóvenes canarios emigrando en busca de oportunidades laborales fuera de la región, lo que contribuye al envejecimiento de la población.
                        <br><br>
                        Este incremento en el índice de vejez ha llevado a un replanteamiento de las políticas públicas y a la implementación de medidas para garantizar el bienestar y la calidad de vida de las personas mayores. Se han fortalecido los servicios de atención y cuidado de la salud, se han creado programas de envejecimiento activo y se ha trabajado en la promoción de la inclusión social de los mayores.
                        <br><br>
                        Además, Canarias cuenta con una rica tradición de cuidado y respeto hacia los mayores. La familia y la comunidad desempeñan un papel importante en el apoyo a las personas de edad avanzada, brindándoles atención y compañía en su día a día. Este sentido de comunidad y solidaridad ha sido fundamental para hacer frente a los desafíos que implica el aumento del índice de vejez.
                        <br><br>
                        En resumen, el índice de vejez en Canarias ha experimentado un aumento significativo en los últimos años, lo que ha llevado a la implementación de políticas y programas para garantizar el bienestar y la calidad de vida de las personas mayores. A través del envejecimiento activo y el apoyo comunitario, se busca promover una sociedad inclusiva y solidaria en la que los mayores puedan disfrutar de una vida plena y digna.
                      </p>
                  </div>
                  
              </div>
          </div>
    </main>

    <footer class="page-footer  fondo-navs">
      <div class="row">
          <div class="col l6 s12">
              <h1  tabindex="0" class="white-text texto-titulo">&nbsp &nbsp Visualización - Proyecto final</h1>
          </div>
          <div class="col l4 offset-l2 s12">
              <h2  tabindex="0" class="white-text texto-titulo">Contacto</h2>
              <ul>
                  <li><p  tabindex="0" class="grey-text text-lighten-3">alu0101205953@ull.edu.es</p></li>
              </ul>
          </div>
      </div>
      
  <div class="footer-copyright">
  </div>
</footer>

    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script>
        const elems = document.querySelector('.sidenav');
        M.Sidenav.init(elems);

        const slider = document.querySelector('.slider');
        var instances = M.Slider.init(slider, {
            indicators: true,
            height: 500,
            duration: 500,
            interval: 10000
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script type="text/javascript">

    const Spec1 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/indicadores.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Gráfico de líneas de nacimientos por año"
      },
      "transform": [
        {"fold": ["properties.2019", "properties.2009", "properties.1999"], "as": ["year", "value"]},
        {"calculate": "split(datum.year, '.')[1]", "as": "year_label"}
      ],
      "layer": [
        {
          "mark": {"type": "circle", "size": 200, "opacity": 1},
          "encoding": {
            "x": {"field": "properties.label", "type": "nominal"},
            "y": {"field": "value", "type": "quantitative"},
            "color": {"field": "year_label", "type": "nominal", "title": "Año", "scale": {"scheme": "sinebow"}},
            "tooltip": [
              {"field": "properties.label", "type": "nominal", "title": "Municipio"},
              {"field": "value", "type": "quantitative", "title": "Nº nacimientos"},
              {"field": "year_label", "type": "nominal", "title": "Año"}
            ]
          },
          "transform": [
            {
              "window": [{"op": "lag", "field": "value", "as": "prev_value"}, {"op": "lead", "field": "value", "as": "next_value"}],
              "frame": [-1, 1]
            },
            {
              "filter": "datum.value > datum.prev_value && datum.value > datum.next_value"
            }
          ],
          "legend": {"title": "Año"}
        },
        {
          "mark": {"type": "line", "strokeWidth": 4},
          "encoding": {
            "x": {"field": "properties.label", "type": "nominal", "axis": {"title": "Municipio"}},
            "y": {"field": "value", "type": "quantitative", "axis": {"title": "Nº nacimientos"}},
            "color": {"field": "year_label", "type": "nominal", "title": "Año", "scale": {"scheme": "sinebow"}},
            "tooltip": [
              {"field": "properties.label", "type": "nominal", "title": "Municipio"},
              {"field": "value", "type": "quantitative", "title": "Nº nacimientos"},
              {"field": "year_label", "type": "nominal", "title": "Año"}
            ]
          }
        }
      ],
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
        "scale": {"bandPaddingInner": 0.2}
      }
    };

    const Spec2 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/indicadores.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Gráfico de barras de nacimientos en 2019"
      },
      "mark": "bar",
      "encoding": {
        "x": {"field": "properties.label", "type":"nominal", "axis": {"title": "Municipio"}},
        "y": {"field": "properties.2019", "type":"quantitative", "axis": {"title": "Nº nacimientos"}},
        "color": {"field": "properties.2019", "type":"quantitative", "title": "Nº nacimientos", "scale": {"scheme": "redpurple"}},
        "tooltip": [
          {"field": "properties.label", "type": "nominal", "title": "Municipio"},
          {"field": "properties.2019", "type": "quantitative", "title": "Nº nacimientos"}
        ]
      },
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
      }
    };

    const Spec3 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1800,
      "data": {
        "values": [
          {"Año": 2019, "Grupo": "65 a 69", "Valor": 20.3},
          {"Año": 2019, "Grupo": "75 a 79", "Valor": 12.6},
          {"Año": 2019, "Grupo": "85 a 89", "Valor": 6.3},
          {"Año": 2019, "Grupo": "95 y más años", "Valor": 0.5},
          {"Año": 2009, "Grupo": "65 a 69", "Valor": 20.2},
          {"Año": 2009, "Grupo": "75 a 79", "Valor": 12.5},
          {"Año": 2009, "Grupo": "85 a 89", "Valor": 6.3},
          {"Año": 2009, "Grupo": "95 y más años", "Valor": 0.5},
          {"Año": 1999, "Grupo": "65 a 69", "Valor": 17.2},
          {"Año": 1999, "Grupo": "75 a 79", "Valor": 10.0},
          {"Año": 1999, "Grupo": "85 a 89", "Valor": 4.5},
          {"Año": 1999, "Grupo": "95 y más años", "Valor": 0.4}
        ]
      },
      "facet": {
        "row": {
          "field": "Grupo",
          "type": "nominal",
          "header": {"title": null, "labelFontSize": 25}
        }
      },
      "spec": {
        "width": 500,
        "height": 500,
        "mark": "bar",
        "encoding": {
          "x": {"field": "Año", "type": "ordinal", "title": "Año"},
          "y": {"field": "Valor", "type": "quantitative", "title": "Esperanza de vida"},
          "color": {"field": "Año", "type": "ordinal", "title": "Año", "scale": {"scheme": "sinebow"}, "legend": null},
          "tooltip": [
            {"field": "Año", "type": "ordinal", "title": "Año"},
            {"field": "Valor", "type": "quantitative", "title": "Esperanza de vida"}
          ]
        }
      },
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
      }
    };
    
    const Spec4 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1800,
      "data": {
        "values": [
          {"Año": 2019, "Grupo": "70 a 74", "Valor": 16.3},
          {"Año": 2019, "Grupo": "80 a 84", "Valor": 9.2},
          {"Año": 2019, "Grupo": "90 a 94", "Valor": 3.7},
          {"Año": 2009, "Grupo": "70 a 74", "Valor": 16.2},
          {"Año": 2009, "Grupo": "80 a 84", "Valor": 9.2},
          {"Año": 2009, "Grupo": "90 a 94", "Valor": 3.8},
          {"Año": 1999, "Grupo": "70 a 74", "Valor": 13.4},
          {"Año": 1999, "Grupo": "80 a 84", "Valor": 7.0},
          {"Año": 1999, "Grupo": "90 a 94", "Valor": 2.6},
        ]
      },
      "facet": {
        "row": {
          "field": "Grupo",
          "type": "nominal",
          "header": {"title": null, "labelFontSize": 25}
        }
      },
      "spec": {
        "width": 500,
        "height": 500,
        "mark": "bar",
        "encoding": {
          "x": {"field": "Año", "type": "ordinal", "title": "Año"},
          "y": {"field": "Valor", "type": "quantitative", "title": "Esperanza de vida"},
          "color": {"field": "Año", "type": "ordinal", "title": "Año", "scale": {"scheme": "sinebow"}},
          "tooltip": [
            {"field": "Año", "type": "ordinal", "title": "Año"},
            {"field": "Valor", "type": "quantitative", "title": "Esperanza de vida"}
          ]
        }
      },
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
      }
    };

    const Spec5 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/indicadores_mig.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Gráfico de líneas de saldo migratorio por año"
      },
      "transform": [
        {"fold": ["properties.2019", "properties.2009", "properties.2002"], "as": ["year", "value"]},
        {"calculate": "split(datum.year, '.')[1]", "as": "year_label"},
        {"filter": "isValid(datum.value) && isFinite(+datum.value)"},
        {"window": [{"op": "max", "field": "value", "as": "max_value"}], "groupby": ["properties.label", "year_label"]}
      ],
      "layer": [
        {
          "mark": {"type": "circle", "size": 200, "opacity": 1},
          "encoding": {
            "x": {"field": "properties.label", "type": "nominal"},
            "y": {"field": "max_value", "type": "quantitative"},
            "color": {"field": "year_label", "type": "nominal", "title": "Año", "scale": {"scheme": "sinebow"}},
            "tooltip": [
              {"field": "properties.label", "type": "nominal", "title": "Municipio"},
              {"field": "max_value", "type": "quantitative", "title": "Saldo migratorio"},
              {"field": "year_label", "type": "nominal", "title": "Año"}
            ]
          },
          "legend": {"title": "Año"}
        },
        {
          "mark": {"type": "line", "strokeWidth": 4},
          "encoding": {
            "x": {"field": "properties.label", "type": "nominal", "axis": {"title": "Municipio"}},
            "y": {"field": "value", "type": "quantitative", "axis": {"title": "Saldo migratorio"}},
            "color": {"field": "year_label", "type": "nominal", "title": "Año", "scale": {"scheme": "sinebow"}},
            "detail": {"field": "year_label", "type": "nominal"},
            "tooltip": [
              {"field": "properties.label", "type": "nominal", "title": "Municipio"},
              {"field": "value", "type": "quantitative", "title": "Saldo migratorio"},
              {"field": "year_label", "type": "nominal", "title": "Año"}
            ]
          }
        }
      ],
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
        "scale": {"bandPaddingInner": 0.2}
      }
    };

    const Spec6 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/indicadores_mig.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Gráfico de barras del saldo migratorio en 2019"
      },
      "mark": "bar",
      "encoding": {
        "x": {"field": "properties.label", "type":"nominal", "axis": {"title": "Municipio"}},
        "y": {"field": "properties.2019", "type":"quantitative", "axis": {"title": "Saldo migratorio"}},
        "color": {"field": "properties.2019", "type":"quantitative", "title": "Saldo migratorio", "scale": {"scheme": "greenblue"}},
        "tooltip": [
          {"field": "properties.label", "type": "nominal", "title": "Municipio"},
          {"field": "properties.2019", "type": "quantitative", "title": "Saldo migratorio"}
        ]
      },
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
      }
    };

    const Spec7 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/grid250Canarias_poblacion.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Población de mayores de 65 años"
      },
      "layer": [{
          "data": {
            "url": "data/indicadores_poblacion_municipios.geojson",
            "format": {
              "type": "json",
              "property": "features"
            }
          },
          "mark": {
            "type": "geoshape",
            "stroke": "black",
            "strokeWidth": 0.5
          },
          "encoding": {
            "color": {
              "value": "#eee"
            }
          }
        },
        {
          "mark": "geoshape",
          "transform": [
            {"calculate": "datum.properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_65mas", "as": "color"}
          ],
          "encoding": {
            "color": {
              "field": "color",
              "type": "quantitative",
              "scale": {"scheme": "spectral"}
            },
            "tooltip": [
            {"field": "properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_MUNICIPIO", "type": "nominal", "title": "Municipio"},
              {"field": "properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_TOTAL", "type": "quantitative", "title": "Población total"},
              {"field": "properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_65mas", "type": "quantitative", "title": "Población 65+"}
            ]
          }
        },
        {
          "mark": {"type": "rect", "color": "transparent"},
          "encoding": {
            "shape": {"value": "square"},
            "color": {
              "field": "color",
              "type": "quantitative",
              "scale": {"scheme": "spectral"},
              "legend": {
                "title": "Población 65+",
                "format": ".2s"
              }
            }
          }
        }
      ],
      "config": {
        "legend": {"titleFontSize": 24, "labelFontSize": 20, "orient": "bottom"},
        "title": {"fontSize": 30}
      }
    };

    const Spec8 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/indicadores_poblacion_municipios.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Gráfico de barras de población de mayores de 65 años"
      },
      "mark": "bar",
      "encoding": {
        "x": {"field": "properties.label", "type":"nominal", "axis": {"title": "Municipio"}},
        "y": {"field": "properties.indicadores_municipal_65mas", "type":"quantitative", "axis": {"title": "Población 65+"}},
        "color": {"field": "properties.indicadores_municipal_65mas", "type":"quantitative", "title": "Población 65+", "scale": {"scheme": "yelloworangered"}},
        "tooltip": [
          {"field": "properties.label", "type": "nominal", "title": "Municipio"},
          {"field": "properties.indicadores_municipal_65mas", "type": "quantitative", "title": "Población 65+"}
        ]
      },
      "config": {
        "axis": {"titleFontSize": 24, "labelFontSize": 20},
        "legend": {"titleFontSize": 24, "labelFontSize": 22},
        "title": {"fontSize": 30},
      }
    };

    const Spec9 = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": "container",
      "height": 1000,
      "data": {
        "url": "data/grid250Canarias_poblacion.geojson",
        "format": {"type": "json", "property": "features"}
      },
      "title": {
        "text": "Número de nacimientos en el año 2019"
      },
      "layer": [{
          "data": {
            "url": "data/indicadores_poblacion_municipios.geojson",
            "format": {
              "type": "json",
              "property": "features"
            }
          },
          "mark": {
            "type": "geoshape",
            "stroke": "black",
            "strokeWidth": 0.5
          },
          "encoding": {
            "color": {
              "value": "#eee"
            }
          }
        },
        {
          "mark": "geoshape",
          "transform": [
            {"calculate": "datum.properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_Nac_Canarias", "as": "color"}
          ],
          "encoding": {
            "color": {
              "field": "color",
              "type": "quantitative",
              "scale": {"scheme": "Spectral"}
            },
            "tooltip": [
              {"field": "properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_MUNICIPIO", "type": "nominal", "title": "Municipio"},
              {"field": "properties.PMH_SD_20170101_Indicadores_Descarga_ISB_ULL_Nac_Canarias", "type": "quantitative", "title": "Nº nacimientos"}
            ]
          }
        },
        {
          "mark": {"type": "rect", "color": "transparent"},
          "encoding": {
            "shape": {"value": "square"},
            "color": {
              "field": "color",
              "type": "quantitative",
              "scale": {"scheme": "Spectral"},
              "legend": {
                "title": "Nº nacimientos",
                "format": ".2s"
              }
            }
          }
        }
      ],
      "config": {
        "legend": {"titleFontSize": 24, "labelFontSize": 20, "orient": "bottom"},
        "title": {"fontSize": 30},
        "text": {"encoding": ""}
      }
    };

        const embedOpt = {"mode": "vega-lite"};
        // Embebe el gráfico en el div con el ID "vis"
        vegaEmbed("#vis1", Spec1, embedOpt);
        vegaEmbed("#vis2", Spec2, embedOpt);
        vegaEmbed("#vis3", Spec3, embedOpt);
        vegaEmbed("#vis4", Spec4, embedOpt);
        vegaEmbed("#vis5", Spec5, embedOpt);
        vegaEmbed("#vis6", Spec6, embedOpt);
        vegaEmbed("#vis7", Spec7, embedOpt);
        vegaEmbed("#vis8", Spec8, embedOpt);
        vegaEmbed("#vis9", Spec9, embedOpt);    
      </script>
  </body>
</html>